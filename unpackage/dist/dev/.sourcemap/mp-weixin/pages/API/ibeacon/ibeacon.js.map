{"version":3,"sources":["webpack:///D:/workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue?d52f","webpack:///D:/workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue?0588","webpack:///D:/workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue?8386","webpack:///D:/workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue?d43d","webpack:///D:/workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue","webpack:///D:/workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue?5543","webpack:///D:/workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue?c3c8"],"names":["DEVICE_UUID_WEICHAT","data","title","isOpen","isStarted","deviceList","isPageOpened","onLoad","onBeaconUpdate","onShow","methods","maskclose","maskShow","openBluetoothAdapter","uni","success","res","console","log","errMsg","fail","err","errCode","initTypes","closeBluetoothAdapter","OBJECT","stopBeaconDiscovery","wx","beacons","length","getBeacons","connected","startBeaconDiscovery","uuids","getUUIDList","error","types","onUnload","code","toast","content","showCancel","showModal"],"mappings":"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","file":"pages/API/ibeacon/ibeacon.js","sourcesContent":["import { render, staticRenderFns } from \"./ibeacon.vue?vue&type=template&id=293e2ad4&\"\nimport script from \"./ibeacon.vue?vue&type=script&lang=js&\"\nexport * from \"./ibeacon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ibeacon.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('293e2ad4', component.options)\n    } else {\n      api.reload('293e2ad4', component.options)\n    }\n    module.hot.accept(\"./ibeacon.vue?vue&type=template&id=293e2ad4&\", function () {\n      api.rerender('293e2ad4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"workspace/HbuilderWs/HBuilderProjects/uni_app_demo/pages/API/ibeacon/ibeacon.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./ibeacon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./ibeacon.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./ibeacon.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./ibeacon.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./ibeacon.vue?vue&type=template&id=293e2ad4&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst DEVICE_UUID_WEICHAT = 'FDA50693-A4E2-4FB1-AFCF-C6EB07647825';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttitle: 'iBeacon',\n\t\t\tisOpen: false,\n\t\t\tisStarted: false,\n\t\t\tdeviceList: [],\n\t\t\tisPageOpened: false\n\t\t};\n\t},\n\tonLoad() {\n\t\tthis.onBeaconUpdate();\n\t},\n\tonShow() {\n\t\tthis.isPageOpened = true;\n\t},\n\tmethods: {\n\t\tmaskclose() {\n\t\t\tthis.maskShow = false;\n\t\t},\n\t\topenBluetoothAdapter() {\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('初始化蓝牙成功:' + res.errMsg);\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tthis.isOpen = true;\n\t\t\t\t\tthis.deviceList = [];\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log('初始化蓝牙失败，错误码：' + (err.errCode || err.errMsg));\n\t\t\t\t\tif (err.errCode !== 0) {\n\t\t\t\t\t\tinitTypes(err.errCode, err.errMsg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcloseBluetoothAdapter(OBJECT) {\n\t\t\tthis.stopBeaconDiscovery();\n\t\t\twx.closeBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.isOpen = false;\n\t\t\t\t\tconsole.log('断开蓝牙模块成功');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tonBeaconUpdate() {\n\t\t\tuni.onBeaconUpdate(res => {\n\t\t\t\tif (!this.isPageOpened || !this.isOpen || !this.isStarted) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconsole.log(res);\n\t\t\t\t// if (res.code !== 0) {\n\t\t\t\t// \treturn;\n\t\t\t\t// }\n\t\t\t\tif (res.beacons && res.beacons.length > 0) {\n\t\t\t\t\tthis.getBeacons();\n\t\t\t\t} else if (!res.connected) {\n\t\t\t\t\tthis.deviceList = [];\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tstartBeaconDiscovery() {\n\t\t\tuni.startBeaconDiscovery({\n\t\t\t\tuuids: this.getUUIDList(),\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.isStarted = true;\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tstopBeaconDiscovery(types) {\n\t\t\tif(this.isStarted) {\n\t\t\t\tuni.stopBeaconDiscovery({\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.isStarted = false;\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetBeacons() {\n\t\t\tuni.getBeacons({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.beacons && res.beacons.length > 0) {\n\t\t\t\t\t\tconsole.log(res.beacons);\n\t\t\t\t\t\tthis.deviceList = res.beacons;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log('获取设备服务失败，错误码：' + err.errCode);\n\t\t\t\t\tif (errCode.errCode !== 0) {\n\t\t\t\t\t\tinitTypes(errCode.errCode);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetUUIDList() {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\treturn [DEVICE_UUID_WEICHAT];\n\n\t\t}\n\t},\n\tonUnload() {\n\t\tthis.isPageOpened = false;\n\t}\n};\n\n/**\n * 判断初始化蓝牙状态\n */\nfunction initTypes(code, errMsg) {\n\tswitch (code) {\n\t\tcase 10000:\n\t\t\ttoast('未初始化蓝牙适配器');\n\t\t\tbreak;\n\t\tcase 10001:\n\t\t\ttoast('未检测到蓝牙，请打开蓝牙重试！');\n\t\t\tbreak;\n\t\tcase 10002:\n\t\t\ttoast('没有找到指定设备');\n\t\t\tbreak;\n\t\tcase 10003:\n\t\t\ttoast('连接失败');\n\t\t\tbreak;\n\t\tcase 10004:\n\t\t\ttoast('没有找到指定服务');\n\t\t\tbreak;\n\t\tcase 10005:\n\t\t\ttoast('没有找到指定特征值');\n\t\t\tbreak;\n\t\tcase 10006:\n\t\t\ttoast('当前连接已断开');\n\t\t\tbreak;\n\t\tcase 10007:\n\t\t\ttoast('当前特征值不支持此操作');\n\t\t\tbreak;\n\t\tcase 10008:\n\t\t\ttoast('其余所有系统上报的异常');\n\t\t\tbreak;\n\t\tcase 10009:\n\t\t\ttoast('Android 系统特有，系统版本低于 4.3 不支持 BLE');\n\t\t\tbreak;\n\t\tdefault:\n\t\t\ttoast(errMsg);\n\t}\n}\n\n/**\n * 弹出框封装\n */\nfunction toast(content, showCancel = false) {\n\tuni.showModal({\n\t\ttitle: '提示',\n\t\tcontent,\n\t\tshowCancel\n\t});\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}